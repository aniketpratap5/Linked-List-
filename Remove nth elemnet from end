class Node {
    int data;
    Node next;
    Node(int d) { data = d; next = null; }
}

public class RemoveNthEnd {
    Node head;
    void add(int d) {
        Node newNode = new Node(d);
        if (head == null) { head = newNode; return; }
        Node temp = head;
        while (temp.next != null) temp = temp.next;
        temp.next = newNode;
    }
    void removeNthFromEnd(int n) {
        int len = 0;
        Node temp = head;
        while (temp != null) { len++; temp = temp.next; }

        if (n == len) { head = head.next; return; }

        temp = head;
        for (int i = 1; i < len - n; i++) temp = temp.next;

        temp.next = temp.next.next;
    }

    void print() {
        Node t = head;
        while (t != null) { System.out.print(t.data + " "); t = t.next; }
        System.out.println();
    }

    public static void main(String[] args) {
        RemoveNthEnd list = new RemoveNthEnd();
        list.add(1);
        list.add(2);
        list.add(3);
        list.add(4);
        list.add(5);

        System.out.println("Before:");
        list.print();

        list.removeNthFromEnd(2); // remove 2nd from end

        System.out.println("After:");
        list.print();
    }
}
